{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar slider_1 = require(\"@reach/slider\");\n\nvar d3_1 = require(\"d3\");\n\nvar utils_1 = require(\"./utils\");\n\nexports.RubberSlider = function (_a) {\n  var _b = _a.id,\n      id = _b === void 0 ? 'rubber-slider' : _b,\n      name = _a.name,\n      _c = _a.className,\n      className = _c === void 0 ? '' : _c,\n      _d = _a.value,\n      value = _d === void 0 ? 0 : _d,\n      _e = _a.onChange,\n      onChange = _e === void 0 ? function (value) {} : _e,\n      _f = _a.width,\n      width = _f === void 0 ? 200 : _f,\n      _g = _a.height,\n      height = _g === void 0 ? 100 : _g,\n      _h = _a.max,\n      max = _h === void 0 ? 100 : _h,\n      _j = _a.min,\n      min = _j === void 0 ? 0 : _j,\n      _k = _a.step,\n      step = _k === void 0 ? 1 : _k,\n      _l = _a.easeFunction,\n      easeFunction = _l === void 0 ? d3_1.easeElastic : _l,\n      _m = _a.easeDuration,\n      easeDuration = _m === void 0 ? 700 : _m,\n      _o = _a.onDragStart,\n      onDragStart = _o === void 0 ? function (position) {} : _o,\n      _p = _a.onDrag,\n      onDrag = _p === void 0 ? function (position) {} : _p,\n      _q = _a.onDragEnd,\n      onDragEnd = _q === void 0 ? function (position) {} : _q,\n      _r = _a.style,\n      style = _r === void 0 ? {} : _r;\n  var points = [[0, height / 2], [utils_1.getPosFromValue(value, width, min, max), height / 2], [width, height / 2]];\n\n  var handleDragStart = function () {\n    var _a = utils_1.getEventCoords(width, height),\n        y = _a[1];\n\n    var value = utils_1.getValueFromPos(points[1][0], width, min, max);\n    onDragStart([utils_1.getSteppedValue(value, step), utils_1.getNormalizedOffset(y, height)]);\n  };\n\n  var handleDrag = function () {\n    var _a = utils_1.getEventCoords(width, height),\n        x = _a[0],\n        y = _a[1];\n\n    var value = utils_1.getValueFromPos(points[1][0], width, min, max);\n    d3_1.event.subject[0] = x;\n    d3_1.event.subject[1] = y;\n    onDrag([utils_1.getSteppedValue(value, step), utils_1.getNormalizedOffset(y, height)]);\n    update();\n  };\n\n  var handleDragEnd = function () {\n    var _a = utils_1.getEventCoords(width, height),\n        y = _a[1];\n\n    var value = utils_1.getValueFromPos(points[1][0], width, min, max);\n    onDragEnd([utils_1.getSteppedValue(value, step), utils_1.getNormalizedOffset(y, height)]);\n    points[1][1] = height / 2;\n    update();\n  };\n\n  var draw = function () {\n    var svg = d3_1.select(\"#\" + id + \"-container\").attr('viewBox', \"0, 0, \" + width + \", \" + height).call(d3_1.drag().subject(utils_1.getDragTarget).on('start', handleDragStart).on('drag', handleDrag).on('end', handleDragEnd));\n    svg.append('path').datum(points).attr('class', 'rubber-slider-track').attr('fill', 'none').attr('stroke', 'black').attr('stroke-width', 3).call(update);\n  };\n\n  var update = function () {\n    onChange(utils_1.getSteppedValue(utils_1.getValueFromPos(points[1][0], width, min, max), step));\n    if (process.env.NODE_ENV === 'testing') return;\n    var svg = d3_1.select('svg');\n    svg.select('path').transition().duration(easeDuration).ease(easeFunction).attr('d', d3_1.line().curve(d3_1.curveCatmullRom));\n    var circle = svg.selectAll('g').data([points[1]], function (d) {\n      return d;\n    });\n    circle.enter().append('g').call(function (g) {\n      g.append('circle').attr('r', 20).attr('stroke-width', 3).attr('fill', 'none').attr('class', 'rubber-slider-handle');\n    }).merge(circle).transition().duration(easeDuration).ease(easeFunction).attr('transform', function (d) {\n      return \"translate(\" + d + \")\";\n    });\n    circle.exit().remove();\n  };\n\n  var handleChange = function (value) {\n    onChange(value);\n    var svg = d3_1.select('svg');\n    var circle = svg.selectAll('g').data([points[1]], function (d) {\n      return d;\n    });\n    circle.enter().append('g').call(function (g) {\n      g.append('circle').attr('r', 20).attr('stroke-width', 3).attr('fill', 'none').attr('class', 'rubber-slider-handle');\n    }).merge(circle).attr('transform', function (d) {\n      return \"translate(\" + d + \")\";\n    });\n    circle.exit().remove();\n  };\n\n  react_1.useEffect(function () {\n    draw();\n    update();\n  }, []);\n  return react_1.default.createElement(slider_1.SliderInput, {\n    name: name,\n    value: value,\n    onChange: handleChange,\n    min: min,\n    max: max,\n    step: step,\n    className: \"rubber-slider-input \" + className,\n    style: __assign(__assign({}, style), {\n      width: width\n    })\n  }, react_1.default.createElement(slider_1.SliderTrack, {\n    className: \"rubber-slider-pseudo-track\"\n  }, react_1.default.createElement(slider_1.SliderHandle, {\n    className: \"rubber-slider-pseudo-handle\"\n  }), react_1.default.createElement(\"svg\", {\n    id: id + \"-container\",\n    className: \"rubber-slider\",\n    \"aria-hidden\": true\n  })));\n};","map":{"version":3,"sources":["../src/rubber-slider.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar slider_1 = require(\"@reach/slider\");\nvar d3_1 = require(\"d3\");\nvar utils_1 = require(\"./utils\");\nexports.RubberSlider = function (_a) {\n    var _b = _a.id, id = _b === void 0 ? 'rubber-slider' : _b, name = _a.name, _c = _a.className, className = _c === void 0 ? '' : _c, _d = _a.value, value = _d === void 0 ? 0 : _d, _e = _a.onChange, onChange = _e === void 0 ? function (value) { } : _e, _f = _a.width, width = _f === void 0 ? 200 : _f, _g = _a.height, height = _g === void 0 ? 100 : _g, _h = _a.max, max = _h === void 0 ? 100 : _h, _j = _a.min, min = _j === void 0 ? 0 : _j, _k = _a.step, step = _k === void 0 ? 1 : _k, _l = _a.easeFunction, easeFunction = _l === void 0 ? d3_1.easeElastic : _l, _m = _a.easeDuration, easeDuration = _m === void 0 ? 700 : _m, _o = _a.onDragStart, onDragStart = _o === void 0 ? function (position) { } : _o, _p = _a.onDrag, onDrag = _p === void 0 ? function (position) { } : _p, _q = _a.onDragEnd, onDragEnd = _q === void 0 ? function (position) { } : _q, _r = _a.style, style = _r === void 0 ? {} : _r;\n    var points = [\n        [0, height / 2],\n        [utils_1.getPosFromValue(value, width, min, max), height / 2],\n        [width, height / 2],\n    ];\n    var handleDragStart = function () {\n        var _a = utils_1.getEventCoords(width, height), y = _a[1];\n        var value = utils_1.getValueFromPos(points[1][0], width, min, max);\n        onDragStart([utils_1.getSteppedValue(value, step), utils_1.getNormalizedOffset(y, height)]);\n    };\n    var handleDrag = function () {\n        var _a = utils_1.getEventCoords(width, height), x = _a[0], y = _a[1];\n        var value = utils_1.getValueFromPos(points[1][0], width, min, max);\n        d3_1.event.subject[0] = x;\n        d3_1.event.subject[1] = y;\n        onDrag([utils_1.getSteppedValue(value, step), utils_1.getNormalizedOffset(y, height)]);\n        update();\n    };\n    var handleDragEnd = function () {\n        var _a = utils_1.getEventCoords(width, height), y = _a[1];\n        var value = utils_1.getValueFromPos(points[1][0], width, min, max);\n        onDragEnd([utils_1.getSteppedValue(value, step), utils_1.getNormalizedOffset(y, height)]);\n        points[1][1] = height / 2;\n        update();\n    };\n    var draw = function () {\n        var svg = d3_1.select(\"#\" + id + \"-container\")\n            .attr('viewBox', \"0, 0, \" + width + \", \" + height)\n            .call(d3_1.drag()\n            .subject(utils_1.getDragTarget)\n            .on('start', handleDragStart)\n            .on('drag', handleDrag)\n            .on('end', handleDragEnd));\n        svg\n            .append('path')\n            .datum(points)\n            .attr('class', 'rubber-slider-track')\n            .attr('fill', 'none')\n            .attr('stroke', 'black')\n            .attr('stroke-width', 3)\n            .call(update);\n    };\n    var update = function () {\n        onChange(utils_1.getSteppedValue(utils_1.getValueFromPos(points[1][0], width, min, max), step));\n        if (process.env.NODE_ENV === 'testing')\n            return;\n        var svg = d3_1.select('svg');\n        svg\n            .select('path')\n            .transition()\n            .duration(easeDuration)\n            .ease(easeFunction)\n            .attr('d', d3_1.line().curve(d3_1.curveCatmullRom));\n        var circle = svg.selectAll('g').data([points[1]], function (d) { return d; });\n        circle\n            .enter()\n            .append('g')\n            .call(function (g) {\n            g.append('circle')\n                .attr('r', 20)\n                .attr('stroke-width', 3)\n                .attr('fill', 'none')\n                .attr('class', 'rubber-slider-handle');\n        })\n            .merge(circle)\n            .transition()\n            .duration(easeDuration)\n            .ease(easeFunction)\n            .attr('transform', function (d) { return \"translate(\" + d + \")\"; });\n        circle.exit().remove();\n    };\n    var handleChange = function (value) {\n        onChange(value);\n        var svg = d3_1.select('svg');\n        var circle = svg.selectAll('g').data([points[1]], function (d) { return d; });\n        circle\n            .enter()\n            .append('g')\n            .call(function (g) {\n            g.append('circle')\n                .attr('r', 20)\n                .attr('stroke-width', 3)\n                .attr('fill', 'none')\n                .attr('class', 'rubber-slider-handle');\n        })\n            .merge(circle)\n            .attr('transform', function (d) { return \"translate(\" + d + \")\"; });\n        circle.exit().remove();\n    };\n    react_1.useEffect(function () {\n        draw();\n        update();\n    }, []);\n    return (react_1.default.createElement(slider_1.SliderInput, { name: name, value: value, onChange: handleChange, min: min, max: max, step: step, className: \"rubber-slider-input \" + className, style: __assign(__assign({}, style), { width: width }) },\n        react_1.default.createElement(slider_1.SliderTrack, { className: \"rubber-slider-pseudo-track\" },\n            react_1.default.createElement(slider_1.SliderHandle, { className: \"rubber-slider-pseudo-handle\" }),\n            react_1.default.createElement(\"svg\", { id: id + \"-container\", className: \"rubber-slider\", \"aria-hidden\": true }))));\n};\n//# sourceMappingURL=rubber-slider.js.map"]},"metadata":{},"sourceType":"script"}